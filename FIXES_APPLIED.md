# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!

## üé® 1. –¢–µ–∫—Å—Ç –≤ popup —Ç–µ–ø–µ—Ä—å —á–µ—Ä–Ω—ã–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—Å—Ç –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞ –±—ã–ª –Ω–µ–≤–∏–¥–∏–º—ã–º
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã `text-gray-900 bg-white` –∫–æ –≤—Å–µ–º –∏–Ω–ø—É—Ç–∞–º

### –ò–∑–º–µ–Ω–µ–Ω–æ –≤ AuthModal.tsx:
- ‚úÖ –ü–æ–ª–µ "Full Name" - —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç
- ‚úÖ –ü–æ–ª–µ "Email" - —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç  
- ‚úÖ –ü–æ–ª–µ "Password" - —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç

–¢–µ–ø–µ—Ä—å –≤–µ—Å—å –≤–≤–æ–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç —Ö–æ—Ä–æ—à–æ –≤–∏–¥–µ–Ω!

## üíæ 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ PostgreSQL
**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã `users`
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

#### 1. Endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ë–î: `/api/init-db`
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3000/api/init-db

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "success": true,
  "message": "Database initialized successfully",
  "usersCount": "0"
}
```

#### 2. –ê–≤—Ç–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ register/login
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–≤—Ö–æ–¥:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL Neon

#### 3. –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```json
{
  "error": "Internal server error",
  "details": "–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ—à–∏–±–∫–∏",
  "hint": "Check if DATABASE_URL is set in .env.local"
}
```

## üìä 3. Google Tag Manager –ø–æ–¥–∫–ª—é—á–µ–Ω

**GTM ID:** GTM-5M3PTPFD

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ layout.tsx:
- ‚úÖ –°–∫—Ä–∏–ø—Ç GTM –≤ `<head>`
- ‚úÖ Noscript iframe –≤ `<body>`

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: http://localhost:3000
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
3. –í–∫–ª–∞–¥–∫–∞ Network
4. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `googletagmanager.com/gtm.js?id=GTM-5M3PTPFD`

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Google Tag Assistant" –¥–ª—è Chrome.

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```
app/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/route.ts       ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/route.ts    ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ init-db/route.ts         ‚ú® –ù–û–í–´–ô - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ AuthModal.tsx            ‚úÖ –ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –∏–Ω–ø—É—Ç–∞—Ö
‚îî‚îÄ‚îÄ layout.tsx                   ‚úÖ Google Tag Manager
```

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ –≤ popup:
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ù–∞–∂–º–∏—Ç–µ "Try Aporto Now"
3. –ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç
4. ‚úÖ –¢–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–µ—Ä–Ω—ã–º –∏ —Ö–æ—Ä–æ—à–æ –≤–∏–¥–∏–º—ã–º
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î:
```
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–æ–∑–¥–∞–Ω .env.local (—Å–º. CREATE_ENV.md)
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/api/init-db
3. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å success: true
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ popup
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏
6. ‚úÖ –ï—Å–ª–∏ –≤—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω - –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Google Tag Manager:
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. F12 ‚Üí Console
3. –í–≤–µ–¥–∏—Ç–µ: dataLayer
4. ‚úÖ –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ –º–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ GTM
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–æ–∑–¥–∞–π—Ç–µ .env.local!

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ `.env.local` –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ:

```bash
cat > .env.local << 'EOF'
DATABASE_URL=postgresql://neondb_owner:npg_Pdsp2cZyj1zC@ep-twilight-truth-adopkfec-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
NEXTAUTH_SECRET=change-this-to-random-secret-key
NEXTAUTH_URL=http://localhost:3000
EOF
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
# Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
npm run dev
```

## üìã –ß–µ–∫–ª–∏—Å—Ç:

- ‚úÖ –¢–µ–∫—Å—Ç –≤ popup —á–µ—Ä–Ω—ã–π
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ users —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
- ‚úÖ Google Tag Manager —Ä–∞–±–æ—Ç–∞–µ—Ç (GTM-5M3PTPFD)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ë–î (/api/init-db)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å .env.local

## üéâ –ì–æ—Ç–æ–≤–æ!

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –¢–µ–ø–µ—Ä—å:
1. –¢–µ–∫—Å—Ç –≤–∏–¥–µ–Ω
2. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
3. GTM –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - —Å–º–æ—Ç—Ä–∏—Ç–µ DB_CHECK.md –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏!
